<div th:fragment="content">
    <h2>Faculty Admin Dashboard</h2>
    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <h3>Create Post</h3>
    <form th:action="@{/facultyadmin/create-post}" method="post" th:object="${newPost}">
        <div class="mb-3">
            <label class="form-label">Title</label>
            <input type="text" class="form-control" th:field="*{title}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Slug</label>
            <input type="text" class="form-control" th:field="*{slug}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Content</label>
            <textarea class="form-control" th:field="*{content}" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Create Post</button>
    </form>

    <h3>Posts</h3>
    <table class="table mt-4">
        <thead>
            <tr>
                <th>Title</th>
                <th>Slug</th>
                <th>Content</th>
                <th>Faculty</th>
                <th>Created By</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="post : ${posts}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.slug}"></td>
                <td th:text="${post.content}"></td>
                <td th:text="${post.faculty?.name} ?: 'N/A'"></td>
                <td th:text="${post.createdBy?.username} ?: 'N/A'"></td>
                <td th:text="${post.createdAt}"></td>
            </tr>
        </tbody>
    </table>
</div>